"use strict";(()=>{var e={};e.id=149,e.ids=[149],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4258:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>m,patchFetch:()=>b,requestAsyncStorage:()=>g,routeModule:()=>p,serverHooks:()=>h,staticGenerationAsyncStorage:()=>f});var a={};r.r(a),r.d(a,{GET:()=>d,OPTIONS:()=>c});var o=r(9303),n=r(8716),s=r(670),i=r(7070),l=r(8391),u=r(9363);async function d(e,{params:t}){try{let r;let{agentId:a,filename:o}=t,{searchParams:n}=new URL(e.url),s=n.get("format")||"json",d=n.get("method")||"raw",c=(0,l.hx)(a);if(!c)return i.NextResponse.json({error:`Agent '${a}' not found`},{status:404});if(!c.dataFiles.includes(o))return i.NextResponse.json({error:`File '${o}' not found for agent '${a}'`,availableFiles:c.dataFiles,githubFolder:(0,u.k9)(c.dayFolder,"").folder},{status:404});let p=o.split(".").pop()?.toLowerCase()||"txt";switch(p){case"csv":r=u.bW;break;case"json":r=u.Rx}let g="api"===d?await (0,u.rm)(c.dayFolder,o,r):await (0,u.Ei)(c.dayFolder,o,r);if(!g.success){let e=(0,u.k9)(c.dayFolder,o);return i.NextResponse.json({error:g.error,source:g.source,githubUrls:e,troubleshooting:{message:"Try accessing the file directly via GitHub",rawUrl:e.raw,blobUrl:e.blob,folderUrl:e.folder}},{status:404})}if("raw"===s)return new Response("string"==typeof g.data?g.data:JSON.stringify(g.data,null,2),{headers:{"Content-Type":function(e){switch(e){case"json":return"application/json";case"csv":return"text/csv";case"xml":return"application/xml";default:return"text/plain"}}(p),"X-Data-Source":g.source,"X-GitHub-URL":g.url||"","Access-Control-Allow-Origin":"*"}});let f=(0,u.k9)(c.dayFolder,o);return i.NextResponse.json({filename:o,data:g.data,source:g.source,githubUrl:g.url,agent:{id:c.id,name:c.name,category:c.category,dayFolder:c.dayFolder},githubUrls:f,usage:{rawData:`/api/github/${a}/${o}?format=raw`,apiMethod:`/api/github/${a}/${o}?method=api`,directGitHub:f.raw,viewOnGitHub:f.blob},timestamp:new Date().toISOString()})}catch(e){return console.error(`GitHub Data Proxy Error for ${t.agentId}/${t.filename}:`,e),i.NextResponse.json({error:"Failed to fetch data from GitHub",details:e instanceof Error?e.message:"Unknown error"},{status:500})}}async function c(){return new Response(null,{status:200,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, OPTIONS","Access-Control-Allow-Headers":"Content-Type"}})}let p=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/github/[agentId]/[filename]/route",pathname:"/api/github/[agentId]/[filename]",filename:"route",bundlePath:"app/api/github/[agentId]/[filename]/route"},resolvedPagePath:"C:\\Users\\indra\\Downloads\\agents-starter-repo\\agents-starter-repo\\app\\api\\github\\[agentId]\\[filename]\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:g,staticGenerationAsyncStorage:f,serverHooks:h}=p,m="/api/github/[agentId]/[filename]/route";function b(){return(0,s.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:f})}}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[789,243],()=>r(4258));module.exports=a})();