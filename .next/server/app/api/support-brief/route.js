"use strict";(()=>{var e={};e.id=697,e.ids=[697],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7561:e=>{e.exports=require("node:fs")},3782:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>_,patchFetch:()=>h,requestAsyncStorage:()=>l,routeModule:()=>c,serverHooks:()=>g,staticGenerationAsyncStorage:()=>m});var s={};r.r(s),r.d(s,{POST:()=>d});var i=r(9303),o=r(8716),a=r(670),n=r(7070),p=r(5074),u=r(7561);async function d(e){let t=(await e.json().catch(()=>({}))).path??"/mnt/data/agents-seed-pack-full/day21_Support_Summarizer_and_Router/zendesk_tickets.json",r=JSON.parse((0,u.readFileSync)(t,"utf8"))[0],s={issue:r.subject,env:"prod",steps_tried:r.comments&&r.comments.join("; ")||"n/a",severity:"high"===r.priority?"high":"medium",next_action:r.subject.includes("Billing")?"Route to Billing":"Ask for logs"},i=p.Ad.safeParse(s);return i.success?n.NextResponse.json(i.data):n.NextResponse.json({error:i.error},{status:400})}let c=new i.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/support-brief/route",pathname:"/api/support-brief",filename:"route",bundlePath:"app/api/support-brief/route"},resolvedPagePath:"C:\\Users\\indra\\Downloads\\agents-starter-repo\\agents-starter-repo\\app\\api\\support-brief\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:l,staticGenerationAsyncStorage:m,serverHooks:g}=c,_="/api/support-brief/route";function h(){return(0,a.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:m})}},5074:(e,t,r)=>{r.d(t,{Ad:()=>a,pV:()=>o});var s=r(1067);let i=s.Ry({owner:s.Z_(),title:s.Z_(),due:s.Z_().regex(/^\d{4}-\d{2}-\d{2}$/)}),o=s.IX(i),a=s.Ry({issue:s.Z_(),env:s.Z_(),steps_tried:s.Z_(),severity:s.Km(["low","medium","high","critical"]),next_action:s.Z_()})}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[789,67],()=>r(3782));module.exports=s})();