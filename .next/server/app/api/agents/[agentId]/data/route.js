"use strict";(()=>{var e={};e.id=130,e.ids=[130],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7561:e=>{e.exports=require("node:fs")},3277:(e,t,a)=>{a.r(t),a.d(t,{originalPathname:()=>f,patchFetch:()=>y,requestAsyncStorage:()=>m,routeModule:()=>p,serverHooks:()=>h,staticGenerationAsyncStorage:()=>g});var r={};a.r(r),a.d(r,{GET:()=>u,POST:()=>d});var o=a(9303),n=a(8716),s=a(670),i=a(7070),c=a(8391),l=a(5925);async function u(e,{params:t}){try{let{agentId:a}=t,{searchParams:r}=new URL(e.url),o=r.get("file"),n=r.get("format")||"json",s=(0,c.hx)(a);if(!s)return i.NextResponse.json({error:`Agent '${a}' not found`},{status:404});if(o){let e;if(!s.dataFiles.includes(o))return i.NextResponse.json({error:`File '${o}' not found for agent '${a}'`,availableFiles:s.dataFiles},{status:404});let t=o.split(".").pop()?.toLowerCase()||"txt";switch(t){case"csv":e=await (0,l.IJ)(a,o);break;case"json":e=await (0,l.eA)(a,o);break;case"txt":default:e=await (0,l.Vq)(a,o);break;case"xml":e=await (0,l.S$)(a,o)}if(!e.success)return i.NextResponse.json({error:e.error||`Failed to load ${o}`,source:e.source},{status:404});if("raw"===n)return new Response("string"==typeof e.data?e.data:JSON.stringify(e.data),{headers:{"Content-Type":function(e){switch(e){case"json":return"application/json";case"csv":return"text/csv";case"xml":return"application/xml";default:return"text/plain"}}(t),"X-Data-Source":e.source}});return i.NextResponse.json({filename:o,data:e.data,source:e.source,agent:{id:s.id,name:s.name,category:s.category}})}let u=await (0,l.jo)(a);return i.NextResponse.json({agent:{id:s.id,name:s.name,description:s.description,category:s.category,complexity:s.complexity,status:s.status,apiRoute:s.apiRoute},dataFiles:s.dataFiles,demoData:u,usage:{getAllData:`/api/agents/${a}/data`,getSpecificFile:`/api/agents/${a}/data?file={filename}`,getRawFile:`/api/agents/${a}/data?file={filename}&format=raw`,agentEndpoint:s.apiRoute},timestamp:new Date().toISOString()})}catch(e){return console.error(`Agent Data API Error for ${t.agentId}:`,e),i.NextResponse.json({error:"Failed to fetch agent data",details:e instanceof Error?e.message:"Unknown error"},{status:500})}}async function d(e,{params:t}){try{let{agentId:a}=t,r=await e.json(),o=(0,c.hx)(a);if(!o)return i.NextResponse.json({error:`Agent '${a}' not found`},{status:404});if("implemented"!==o.status)return i.NextResponse.json({error:`Agent '${a}' is not yet implemented`,status:o.status,apiRoute:o.apiRoute,message:`This agent is currently ${o.status}. Check back later for implementation.`},{status:501});let n=new URL(o.apiRoute,e.url),s=await fetch(n.toString(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),l=await s.json();return i.NextResponse.json({agent:{id:o.id,name:o.name},result:l,processedAt:new Date().toISOString()})}catch(e){return console.error(`Agent Data POST Error for ${t.agentId}:`,e),i.NextResponse.json({error:"Failed to process data with agent",details:e instanceof Error?e.message:"Unknown error"},{status:500})}}let p=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/agents/[agentId]/data/route",pathname:"/api/agents/[agentId]/data",filename:"route",bundlePath:"app/api/agents/[agentId]/data/route"},resolvedPagePath:"C:\\Users\\indra\\Downloads\\agents-starter-repo\\agents-starter-repo\\app\\api\\agents\\[agentId]\\data\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:m,staticGenerationAsyncStorage:g,serverHooks:h}=p,f="/api/agents/[agentId]/data/route";function y(){return(0,s.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:g})}},5925:(e,t,a)=>{a.d(t,{IJ:()=>i,N2:()=>d,S$:()=>u,Vq:()=>l,eA:()=>c,jo:()=>p});var r=a(7561),o=a(8391),n=a(9363);async function s(e,t,a,s){let i=(0,o.hx)(e);if(!i)return{data:s,source:"error",success:!1,error:`Agent '${e}' not found in registry`};for(let n of(0,o.oZ)(e,t))try{if((0,r.existsSync)(n)){let e=(0,r.readFileSync)(n,"utf8");return{data:a?a(e):e,source:n,success:!0}}}catch(e){continue}let c=(0,n.k9)(i.dayFolder,t);try{let e=await (0,n.np)(i.dayFolder,t,a,s);if(e.success)return{data:e.data,source:`github-${e.source}`,success:!0,githubUrls:c}}catch(e){}return s?{data:s,source:"mock-data",success:!0,githubUrls:c}:{data:null,source:"not-found",success:!1,error:`No data file found for ${e}/${t} in local paths or GitHub`,githubUrls:c}}async function i(e,t,a){return s(e,t,e=>{let[t,...a]=e.trim().split(/\r?\n/),r=t.split(",");return a.map(e=>{let t=e.split(","),a={};return r.forEach((e,r)=>{a[e.trim()]=t[r]?.trim()||""}),a})},a)}async function c(e,t,a){return s(e,t,e=>JSON.parse(e),a)}async function l(e,t,a){return s(e,t,void 0,a)}async function u(e,t,a){return s(e,t,void 0,a)}let d={invoices:(e=10)=>{let t=["TechCorp","DataSys","CloudServ","DevTools","Enterprise","MegaCorp","StartupInc"],a=["paid","pending","overdue"];return Array.from({length:e},(e,r)=>({invoice_id:`INV-${String(r+1).padStart(3,"0")}`,vendor:t[r%t.length],amount:Math.floor(5e4*Math.random())+1e3,date:new Date(Date.now()-7776e6*Math.random()).toISOString().split("T")[0],status:a[r%a.length],iban:"GB33BUKB20201555555555",created_at_utc:new Date().toISOString()}))},meetingTranscript:()=>`Meeting Transcript - Project Planning Session

John: We need to finalize the budget by Friday. @Sarah can you prepare the financial report?
Sarah: Sure, I'll have it ready by Thursday. @Mike, can you review the technical requirements?
Mike: I'll review them by Wednesday and send feedback. @John, we should schedule a follow-up meeting.
John: Good idea. Let's meet again next Monday to discuss the final details.
Alice: @Tom, please update the project timeline based on today's discussion.
Tom: Will do. I'll have the updated timeline ready by tomorrow.`,supportTickets:(e=5)=>{let t=["Billing Issue - Incorrect Charges","Login Problems","Feature Request - Dashboard","Bug Report - Data Export","Account Access Issues"],a=["low","medium","high","critical"],r=["open","in_progress","resolved","closed"];return Array.from({length:e},(e,o)=>({id:`TICKET-${String(o+1).padStart(3,"0")}`,subject:t[o%t.length],description:`Customer reports issue with ${t[o%t.length].toLowerCase()}`,priority:a[o%a.length],status:r[o%r.length],created_at:new Date(Date.now()-2592e6*Math.random()).toISOString(),customer_id:`CUST-${String(o+1).padStart(3,"0")}`}))},sitemap:()=>`<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
  <url>
    <loc>https://example.com/</loc>
    <lastmod>2024-01-01</lastmod>
    <priority>1.0</priority>
  </url>
  <url>
    <loc>https://example.com/about</loc>
    <lastmod>2024-01-02</lastmod>
    <priority>0.8</priority>
  </url>
  <url>
    <loc>https://example.com/products</loc>
    <lastmod>2024-01-03</lastmod>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://example.com/contact</loc>
    <lastmod>2024-01-04</lastmod>
    <priority>0.7</priority>
  </url>
  <url>
    <loc>https://example.com/blog</loc>
    <lastmod>2024-01-05</lastmod>
    <priority>0.6</priority>
  </url>
</urlset>`,vendors:(e=5)=>{let t=["TechCorp Ltd","DataSys Inc","CloudServ Solutions","DevTools Pro","Enterprise Systems"];return Array.from({length:e},(e,a)=>({vendor_id:`VEN-${String(a+1).padStart(3,"0")}`,name:t[a%t.length],email:`contact@${t[a%t.length].toLowerCase().replace(/\s+/g,"")}.com`,tax_id:`TAX${String(a+1).padStart(6,"0")}`,bank_account:`GB33BUKB20201${String(a+1).padStart(9,"0")}`,created_at:new Date(Date.now()-31536e6*Math.random()).toISOString(),status:"active"}))},actionItems:()=>[{owner:"Sarah",title:"Prepare financial report",due:"2025-10-20",priority:"high"},{owner:"Mike",title:"Review technical requirements",due:"2025-10-18",priority:"medium"},{owner:"Tom",title:"Update project timeline",due:"2025-10-17",priority:"medium"}]};async function p(e){let t=(0,o.hx)(e);if(!t)throw Error(`Agent '${e}' not found`);let a={};for(let r of t.dataFiles){let t=r.split(".").pop()?.toLowerCase();try{let o;switch(t){case"csv":o=r.includes("invoice")?await i(e,r,d.invoices()):r.includes("vendor")?await i(e,r,d.vendors()):await i(e,r,[]);break;case"json":o=r.includes("ticket")?await c(e,r,d.supportTickets()):r.includes("action")?await c(e,r,d.actionItems()):await c(e,r,{});break;case"txt":o=r.includes("transcript")?await l(e,r,d.meetingTranscript()):await l(e,r,"Sample text data");break;case"xml":o=r.includes("sitemap")?await u(e,r,d.sitemap()):await u(e,r,'<?xml version="1.0"?><root></root>');break;default:o=await l(e,r,"Unknown file type")}a[r]={data:o.data,source:o.source,success:o.success}}catch(e){a[r]={data:null,source:"error",success:!1,error:e instanceof Error?e.message:"Unknown error"}}}return a}}};var t=require("../../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[789,243],()=>a(3277));module.exports=r})();