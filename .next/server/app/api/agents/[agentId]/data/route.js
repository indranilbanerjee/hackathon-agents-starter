"use strict";(()=>{var e={};e.id=130,e.ids=[130],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7561:e=>{e.exports=require("node:fs")},3277:(e,t,a)=>{a.r(t),a.d(t,{originalPathname:()=>x,patchFetch:()=>w,requestAsyncStorage:()=>g,routeModule:()=>l,serverHooks:()=>m,staticGenerationAsyncStorage:()=>f});var r={};a.r(r),a.d(r,{GET:()=>d,POST:()=>c});var n=a(9303),s=a(8716),o=a(670),i=a(7070),u=a(8391),p=a(5925);async function d(e,{params:t}){try{let{agentId:a}=t,{searchParams:r}=new URL(e.url),n=r.get("file"),s=r.get("format")||"json",o=(0,u.hx)(a);if(!o)return i.NextResponse.json({error:`Agent '${a}' not found`},{status:404});if(n){let e;if(!o.dataFiles.includes(n))return i.NextResponse.json({error:`File '${n}' not found for agent '${a}'`,availableFiles:o.dataFiles},{status:404});let t=n.split(".").pop()?.toLowerCase()||"txt";switch(t){case"csv":e=await (0,p.IJ)(a,n);break;case"json":e=await (0,p.eA)(a,n);break;case"txt":default:e=await (0,p.Vq)(a,n);break;case"xml":e=await (0,p.S$)(a,n)}if(!e.success)return i.NextResponse.json({error:e.error||`Failed to load ${n}`,source:e.source},{status:404});if("raw"===s)return new Response("string"==typeof e.data?e.data:JSON.stringify(e.data),{headers:{"Content-Type":function(e){switch(e){case"json":return"application/json";case"csv":return"text/csv";case"xml":return"application/xml";default:return"text/plain"}}(t),"X-Data-Source":e.source}});return i.NextResponse.json({filename:n,data:e.data,source:e.source,agent:{id:o.id,name:o.name,category:o.category}})}let d=await (0,p.jo)(a);return i.NextResponse.json({agent:{id:o.id,name:o.name,description:o.description,category:o.category,complexity:o.complexity,status:o.status,apiRoute:o.apiRoute},dataFiles:o.dataFiles,demoData:d,usage:{getAllData:`/api/agents/${a}/data`,getSpecificFile:`/api/agents/${a}/data?file={filename}`,getRawFile:`/api/agents/${a}/data?file={filename}&format=raw`,agentEndpoint:o.apiRoute},timestamp:new Date().toISOString()})}catch(e){return console.error(`Agent Data API Error for ${t.agentId}:`,e),i.NextResponse.json({error:"Failed to fetch agent data",details:e instanceof Error?e.message:"Unknown error"},{status:500})}}async function c(e,{params:t}){try{let{agentId:a}=t,r=await e.json(),n=(0,u.hx)(a);if(!n)return i.NextResponse.json({error:`Agent '${a}' not found`},{status:404});if("implemented"!==n.status)return i.NextResponse.json({error:`Agent '${a}' is not yet implemented`,status:n.status,apiRoute:n.apiRoute,message:`This agent is currently ${n.status}. Check back later for implementation.`},{status:501});let s=new URL(n.apiRoute,e.url),o=await fetch(s.toString(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),p=await o.json();return i.NextResponse.json({agent:{id:n.id,name:n.name},result:p,processedAt:new Date().toISOString()})}catch(e){return console.error(`Agent Data POST Error for ${t.agentId}:`,e),i.NextResponse.json({error:"Failed to process data with agent",details:e instanceof Error?e.message:"Unknown error"},{status:500})}}let l=new n.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/agents/[agentId]/data/route",pathname:"/api/agents/[agentId]/data",filename:"route",bundlePath:"app/api/agents/[agentId]/data/route"},resolvedPagePath:"C:\\Users\\indra\\Downloads\\agents-starter-repo\\agents-starter-repo\\app\\api\\agents\\[agentId]\\data\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:g,staticGenerationAsyncStorage:f,serverHooks:m}=l,x="/api/agents/[agentId]/data/route";function w(){return(0,o.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:f})}}};var t=require("../../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[789,925],()=>a(3277));module.exports=r})();